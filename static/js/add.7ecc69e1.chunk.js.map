{"version":3,"file":"static/js/add.7ecc69e1.chunk.js","mappings":"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","sources":["webpack://react-movie-db/./src/components/CreateCardForm/styles.module.scss?5186","components/CreateCardForm/index.js","webpack://react-movie-db/./src/components/Modal/styles.module.scss?81d3","components/Modal/index.jsx","webpack://react-movie-db/./src/pages/AddMovie/styles.module.scss?5bde","pages/AddMovie/index.jsx","utils.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"CreateCardForm\":\"styles_CreateCardForm__j0Ueu\",\"CreateCardForm__form\":\"styles_CreateCardForm__form__TAs8d\",\"CreateCardForm__form__input\":\"styles_CreateCardForm__form__input__oFhm+\",\"CreateCardForm__form__textarea\":\"styles_CreateCardForm__form__textarea__A6usH\",\"CreateCardForm__form__btn\":\"styles_CreateCardForm__form__btn__J64nt\"};","import { useState } from \"react\";\n\nimport { useLocation } from \"react-router-dom\";\n\nimport { POST, PUT } from \"../../utils\"\n\nimport styles from \"./styles.module.scss\"\n\n\n\n\nconst CreateCardForm = ({setModalVisibility, callType, completeCallback, text}) => {\n\n\n\n    const [title, setTitle] = useState(\"\");\n    const [year, setYear] = useState(\"\");\n    const [poster, setPoster] = useState(\"\");\n    const [genres, setGenres] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n    const genresInArr = (genres) => genres.split(\",\");\n\n\n    const location = useLocation();\n    const movieId = location.pathname.split(\"/\").reverse()[0];\n\n\n\n    const addMovie = async (e) => {\n        e.preventDefault();\n\n        if (callType === \"POST\") {\n          await POST({\n            title,\n            year,\n            poster,\n            genres: genresInArr(genres),\n            description,\n          });\n          \n          setModalVisibility(true);\n\n          completeCallback();\n\n\n        } else {\n          \n         await PUT(movieId, {\n            title,\n            year,\n            poster,\n            genres: genresInArr(genres),\n            description,\n          });\n\n\n          completeCallback();\n\n          \n        }\n\n    }\n\n\n\n      \n    return (\n        \n        <main className={styles.CreateCardForm}>\n\n        <h1>{text}</h1>\n    \n          <form onSubmit={addMovie} className={styles.CreateCardForm__form}>\n\n            <div className={styles.CreateCardForm__form__input}>\n              <label htmlFor=\"title\">Title:</label>\n              <input value={title} onChange={(e) => setTitle(e.target.value)} type=\"text\" id=\"title\" name=\"title\" required />\n            </div>\n            <div className={styles.CreateCardForm__form__input}>\n              <label htmlFor=\"year\">Year:</label>\n              <input value={year} onChange={(e) => setYear(e.target.value)} type=\"text\" id=\"year\" name=\"year\" required />\n            </div>\n            <div className={styles.CreateCardForm__form__input}>\n              <label htmlFor=\"poster\">Poster:</label>\n              <input value={poster} onChange={(e) => setPoster(e.target.value)} type=\"text\" id=\"poster\" name=\"poster\" required />\n            </div>\n            <div className={styles.CreateCardForm__form__input}>\n              <label htmlFor=\"genres\">Genres:</label>\n              <input value={genres} onChange={(e) => setGenres(e.target.value)} type=\"text\" id=\"genres\" name=\"genres\" required />\n            </div>\n            <div className={styles.CreateCardForm__form__textarea}>\n              <label htmlFor=\"description\">Description:</label>\n              <textarea value={description} onChange={(e) => setDescription(e.target.value)} id=\"description\" name=\"description\" required></textarea>\n            </div>\n            <div className={styles.CreateCardForm__form__btn}>\n              <input type=\"submit\" value={text} />\n            </div>\n\n          </form>\n            {/* <button onClick={() => console.log(title, year, poster, genres, description )}>Test</button> */}\n            \n        </main>\n      );\n}\n\nexport default CreateCardForm;","// extracted by mini-css-extract-plugin\nexport default {\"Modal\":\"styles_Modal__xboJ2\",\"Modal__text\":\"styles_Modal__text__vHemr\",\"Modal__wrapper\":\"styles_Modal__wrapper__V-8KH\"};","import styles from \"./styles.module.scss\";\n\n\n\n\nconst Modal = ({text, isVisibile}) => {\n\n\n\n    return (\n        <>\n\n        { isVisibile && (<div className={styles.Modal}>\n        <div className={styles.Modal__wrapper}>\n        <p className={styles.Modal__text}>{text}</p>\n        </div>\n        </div>) }\n\n        </>\n    )\n}\n\nexport default Modal;","// extracted by mini-css-extract-plugin\nexport default {\"AddMovie\":\"styles_AddMovie__1qqoB\"};","import { useState, useEffect } from \"react\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nimport CreateCardForm from \"../../components/CreateCardForm\";\nimport Modal from \"../../components/Modal\"\n\nimport styles from \"./styles.module.scss\";\n\nconst AddMovie = (props) => {\n\n    // console.log(props);\n\n    const [isModalVisibile, setModalVisibility] = useState(false);\n\n    const navigate = useNavigate();\n\n\n    const submitComplete = () => {\n        // console.log(\"ok submit \");\n\n        props.editSuccess({\n            visible: true,\n            content: \"You have added a new movie!\",\n            color: \"alertColorBlue\",\n        })\n        \n        navigate(\"/\");\n    };\n\n\n    \n\n    useEffect(() => {\n        setTimeout(() => {\n            setModalVisibility(false);\n        }, 3000);\n    }, [isModalVisibile]);\n        \n\n    return (\n        <div className={styles.AddMovie}>\n            <CreateCardForm completeCallback={submitComplete} setModalVisibility={setModalVisibility} callType=\"POST\" text=\"Add new movie\" />\n\n            <Modal text=\"Added a new movie!\" isVisibile={isModalVisibile} />\n        </div>\n    )\n}\n\n\nexport default AddMovie;","const BASE_URL = \"https://edgemony-backend.herokuapp.com/movies\";\n\n// GET\nconst GET = (id = \"\") => fetch(`${BASE_URL}/${id}`).then((res) => res.json());\n\n// POST\nconst POST = (body) =>\n  fetch(BASE_URL, {\n    method: \"POST\",\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n// DELETE\nconst DELETE = (id) => fetch(`${BASE_URL}/${id}`, { method: \"DELETE\" });\n\n// PUT\nconst PUT = (id, body) =>\n  fetch(`${BASE_URL}/${id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\nexport { GET, POST, DELETE, PUT };"],"names":["setModalVisibility","callType","completeCallback","text","useState","title","setTitle","year","setYear","poster","setPoster","genres","setGenres","description","setDescription","genresInArr","split","movieId","useLocation","pathname","reverse","addMovie","e","preventDefault","POST","PUT","className","styles","onSubmit","htmlFor","value","onChange","target","type","id","name","required","isVisibile","props","isModalVisibile","navigate","useNavigate","useEffect","setTimeout","CreateCardForm","editSuccess","visible","content","color","BASE_URL","GET","fetch","then","res","json","body","method","headers","JSON","stringify","DELETE"],"sourceRoot":""}
"use strict";(self.webpackChunkreact_movie_db=self.webpackChunkreact_movie_db||[]).push([[922],{752:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(504),s=r(457),i="styles_CardWrapper__a3gOn",a="styles_CardItem__QIsX0",c="styles_CardItem__btn__kdQps",l="styles_CardItem__title__8Xi6k",o="styles_CardItem__poster__rmHcN",u="styles_CardItem__year__h+SSP",d="styles_CardItem__description__S7gMY",_="styles_CardItem__genre__oqVv8",m=r(184),h=function(e){var t=e.cardData,r=e.btnDeleteVisibility;return(0,m.jsx)("div",{className:i,children:(0,m.jsxs)("article",{className:a,children:[(0,m.jsx)("img",{className:o,src:t.poster,alt:t.title}),(0,m.jsx)(n.rU,{to:"/edit-movie/".concat(t.id),children:(0,m.jsx)("h2",{className:l,children:t.title})}),(0,m.jsx)("p",{className:u,children:t.year}),(0,m.jsx)("p",{className:d,children:t.description}),(0,m.jsxs)("div",{className:_,children:[(0,m.jsx)("ul",{children:Array.isArray(t.genres)&&t.genres.map((function(e,t){return(0,m.jsx)("li",{children:e},t)}))}),r&&(0,m.jsx)("button",{onClick:function(){(0,s.yY)(t.id).then((function(e){return window.location.reload("/")}))},className:c})]})]})})}},987:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(861),s=r(152),i=r(757),a=r.n(i),c=r(791),l=r(871),o=r(457),u="styles_CreateCardForm__j0Ueu",d="styles_CreateCardForm__form__TAs8d",_="styles_CreateCardForm__form__input__oFhm+",m="styles_CreateCardForm__form__textarea__A6usH",h="styles_CreateCardForm__form__btn__J64nt",f=r(184),p=function(e){var t=e.setModalVisibility,r=e.callType,i=e.completeCallback,p=e.text,v=e.movieData,x=(0,c.useState)(""),y=(0,s.Z)(x,2),j=y[0],C=y[1],b=(0,c.useState)(""),g=(0,s.Z)(b,2),N=g[0],S=g[1],k=(0,c.useState)(""),E=(0,s.Z)(k,2),Z=E[0],D=E[1],F=(0,c.useState)(""),T=(0,s.Z)(F,2),M=T[0],I=T[1],O=(0,c.useState)(""),q=(0,s.Z)(O,2),w=q[0],A=q[1];(0,c.useEffect)((function(){v&&(C(v.title),S(v.year),D(v.poster),I(v.genres),A(v.description))}),[v]);var H=function(e){return Array.isArray(e)?e:e.split(",")},P=(0,l.TH)().pathname.split("/").reverse()[0],V=function(){var e=(0,n.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"POST"!==r){e.next=8;break}return e.next=4,(0,o.a4)({title:j,year:N,poster:Z,genres:H(M),description:w});case 4:t(!0),i(),e.next=11;break;case 8:return e.next=10,(0,o.uO)(P,{title:j,year:N,poster:Z,genres:H(M),description:w});case 10:i();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsxs)("main",{className:u,children:[(0,f.jsx)("h1",{children:p}),(0,f.jsxs)("form",{onSubmit:V,className:d,children:[(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,f.jsx)("input",{value:j,onChange:function(e){return C(e.target.value)},type:"text",id:"title",name:"title",required:!0})]}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("label",{htmlFor:"year",children:"Year:"}),(0,f.jsx)("input",{value:N,onChange:function(e){return S(e.target.value)},type:"text",id:"year",name:"year",required:!0})]}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("label",{htmlFor:"poster",children:"Poster:"}),(0,f.jsx)("input",{value:Z,onChange:function(e){return D(e.target.value)},type:"text",id:"poster",name:"poster",required:!0})]}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("label",{htmlFor:"genres",children:"Genres:"}),(0,f.jsx)("input",{value:M,onChange:function(e){return I(e.target.value)},type:"text",id:"genres",name:"genres",required:!0})]}),(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,f.jsx)("textarea",{value:w,onChange:function(e){return A(e.target.value)},id:"description",name:"description",required:!0})]}),(0,f.jsx)("div",{className:h,children:(0,f.jsx)("input",{type:"submit",value:p})})]})]})}},663:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(152),s=r(791),i=r(871),a=r(457),c=r(752),l=r(987),o={EditMovie:"styles_EditMovie__0ZtzC",EditMovie__left:"styles_EditMovie__left__KDdcr"},u=r(184);var d=function(e){var t=(0,i.s0)(),r=(0,i.TH)(),d=(0,s.useState)({}),_=(0,n.Z)(d,2),m=_[0],h=_[1],f=r.pathname.split("/").reverse()[0];return(0,s.useEffect)((function(){(0,a.HT)(f).then((function(e){return h(e)}))}),[]),(0,u.jsxs)("div",{className:o.EditMovie,children:[(0,u.jsx)("div",{className:o.EditMovie__left,children:(0,u.jsx)(c.Z,{cardData:m,btnDeleteVisibility:!1})}),(0,u.jsx)("div",{className:o.EditMovie__right,children:(0,u.jsx)(l.Z,{completeCallback:function(){e.editSuccess(),t("/")},btnDeleteVisibility:!1,text:"Edit movie",movieData:m})})]})}},457:function(e,t,r){r.d(t,{HT:function(){return s},a4:function(){return i},uO:function(){return c},yY:function(){return a}});var n="https://edgemony-backend.herokuapp.com/movies",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch("".concat(n,"/").concat(e)).then((function(e){return e.json()}))},i=function(e){return fetch(n,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})},a=function(e){return fetch("".concat(n,"/").concat(e),{method:"DELETE"})},c=function(e,t){return fetch("".concat(n,"/").concat(e),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)})}}}]);
//# sourceMappingURL=edit.fa30b95e.chunk.js.map
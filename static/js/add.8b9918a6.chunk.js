"use strict";(self.webpackChunkreact_movie_db=self.webpackChunkreact_movie_db||[]).push([[40],{987:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(861),s=n(152),a=n(757),i=n.n(a),c=n(791),o=n(871),l=n(457),u="styles_CreateCardForm__j0Ueu",d="styles_CreateCardForm__form__TAs8d",m="styles_CreateCardForm__form__input__oFhm+",f="styles_CreateCardForm__form__textarea__A6usH",p="styles_CreateCardForm__form__btn__J64nt",h=n(184),_=function(e){var t=e.setModalVisibility,n=e.callType,a=e.completeCallback,_=e.text,x=e.movieData,v=(0,c.useState)(""),y=(0,s.Z)(v,2),j=y[0],b=y[1],g=(0,c.useState)(""),C=(0,s.Z)(g,2),N=C[0],S=C[1],F=(0,c.useState)(""),T=(0,s.Z)(F,2),k=T[0],Z=T[1],q=(0,c.useState)(""),w=(0,s.Z)(q,2),A=w[0],O=w[1],M=(0,c.useState)(""),E=(0,s.Z)(M,2),H=E[0],P=E[1];(0,c.useEffect)((function(){x&&(b(x.title),S(x.year),Z(x.poster),O(x.genres),P(x.description))}),[x]);var V=function(e){return Array.isArray(e)?e:e.split(",")},D=(0,o.TH)().pathname.split("/").reverse()[0],J=function(){var e=(0,r.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),"POST"!==n){e.next=8;break}return e.next=4,(0,l.a4)({title:j,year:N,poster:k,genres:V(A),description:H});case 4:t(!0),a(),e.next=11;break;case 8:return e.next=10,(0,l.uO)(D,{title:j,year:N,poster:k,genres:V(A),description:H});case 10:a();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)("main",{className:u,children:[(0,h.jsx)("h1",{children:_}),(0,h.jsxs)("form",{onSubmit:J,className:d,children:[(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,h.jsx)("input",{value:j,onChange:function(e){return b(e.target.value)},type:"text",id:"title",name:"title",required:!0})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"year",children:"Year:"}),(0,h.jsx)("input",{value:N,onChange:function(e){return S(e.target.value)},type:"text",id:"year",name:"year",required:!0})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"poster",children:"Poster:"}),(0,h.jsx)("input",{value:k,onChange:function(e){return Z(e.target.value)},type:"text",id:"poster",name:"poster",required:!0})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"genres",children:"Genres:"}),(0,h.jsx)("input",{value:A,onChange:function(e){return O(e.target.value)},type:"text",id:"genres",name:"genres",required:!0})]}),(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,h.jsx)("textarea",{value:H,onChange:function(e){return P(e.target.value)},id:"description",name:"description",required:!0})]}),(0,h.jsx)("div",{className:p,children:(0,h.jsx)("input",{type:"submit",value:_})})]})]})}},840:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(152),s=n(791),a=n(871),i=n(987),c="styles_Modal__xboJ2",o="styles_Modal__text__vHemr",l="styles_Modal__wrapper__V-8KH",u=n(184),d=function(e){var t=e.text,n=e.isVisibile;return(0,u.jsx)(u.Fragment,{children:n&&(0,u.jsx)("div",{className:c,children:(0,u.jsx)("div",{className:l,children:(0,u.jsx)("p",{className:o,children:t})})})})},m="styles_AddMovie__1qqoB",f=function(e){var t=(0,s.useState)(!1),n=(0,r.Z)(t,2),c=n[0],o=n[1],l=(0,a.s0)();return(0,s.useEffect)((function(){setTimeout((function(){o(!1)}),3e3)}),[c]),(0,u.jsxs)("div",{className:m,children:[(0,u.jsx)(i.Z,{completeCallback:function(){e.addSuccess(),l("/")},setModalVisibility:o,callType:"POST",text:"Add new movie"}),(0,u.jsx)(d,{text:"Added a new movie!",isVisibile:c})]})}},457:function(e,t,n){n.d(t,{HT:function(){return s},a4:function(){return a},uO:function(){return c},yY:function(){return i}});var r="https://edgemony-backend.herokuapp.com/movies",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch("".concat(r,"/").concat(e)).then((function(e){return e.json()}))},a=function(e){return fetch(r,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})},i=function(e){return fetch("".concat(r,"/").concat(e),{method:"DELETE"})},c=function(e,t){return fetch("".concat(r,"/").concat(e),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)})}}}]);
//# sourceMappingURL=add.8b9918a6.chunk.js.map
{"version":3,"file":"static/js/add.3bac4b9b.chunk.js","mappings":"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","sources":["webpack://react-movie-db/./src/components/CreateCardForm/styles.module.scss?5186","components/CreateCardForm/index.js","webpack://react-movie-db/./src/pages/AddMovie/styles.module.scss?5bde","pages/AddMovie/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"CreateCardForm\":\"styles_CreateCardForm__j0Ueu\",\"CreateCardForm__form\":\"styles_CreateCardForm__form__TAs8d\",\"CreateCardForm__form__input\":\"styles_CreateCardForm__form__input__oFhm+\",\"CreateCardForm__form__textarea\":\"styles_CreateCardForm__form__textarea__A6usH\",\"CreateCardForm__form__btn\":\"styles_CreateCardForm__form__btn__J64nt\"};","import { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport { POST, PUT } from \"../../utils\"\nimport styles from \"./styles.module.scss\"\n\n\n/* const CreateCardForm = ({setModalVisibility, callType, completeCallback, text, movieData}) => { */\nconst CreateCardForm = ({callType, completeCallback, text, movieData}) => {\n\n\n    const [title, setTitle] = useState(\"\");\n    const [year, setYear] = useState(\"\");\n    const [poster, setPoster] = useState(\"\");\n    const [genres, setGenres] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n    \n    useEffect(() => {\n      if (movieData) {\n        setTitle(movieData.title);\n        setYear(movieData.year);\n        setPoster(movieData.poster);\n        setGenres(movieData.genres);\n        setDescription(movieData.description);\n      }\n    }, [movieData]);\n    \n\n    const genresInArr = (genres) => {\n      // from edit page\n      if (Array.isArray(genres)) {\n          return genres;\n      } else { \n        return genres.split(\",\");\n       }\n    }\n    \n\n    const location = useLocation();\n    const movieId = location.pathname.split(\"/\").reverse()[0];\n\n\n\n    const addMovie = async (e) => {\n        e.preventDefault();\n\n        if (callType === \"POST\") {\n          await POST({\n            title,\n            year,\n            poster,\n            genres: genresInArr(genres),\n            description,\n          });\n          \n          /* setModalVisibility(true); */\n\n          completeCallback();\n\n\n        } else {\n          \n         await PUT(movieId, {\n            title,\n            year,\n            poster,\n            genres: genresInArr(genres),\n            description,\n          });\n\n          completeCallback();\n  \n        }\n\n    }\n\n\n\n      \n    return (\n        \n        <main className={styles.CreateCardForm}>\n\n        <h1>{text}</h1>\n    \n          <form onSubmit={addMovie} className={styles.CreateCardForm__form}>\n\n            <div className={styles.CreateCardForm__form__input}>\n              <label htmlFor=\"title\">Title:</label>\n              <input value={title} onChange={(e) => setTitle(e.target.value)} type=\"text\" id=\"title\" name=\"title\" placeholder=\"Title of the movie\" required />\n            </div>\n            <div className={styles.CreateCardForm__form__input}>\n              <label htmlFor=\"year\">Year:</label>\n              <input value={year} onChange={(e) => setYear(e.target.value)} type=\"text\" id=\"year\" name=\"year\" placeholder=\"Year of the movie\" required />\n            </div>\n            <div className={styles.CreateCardForm__form__input}>\n              <label htmlFor=\"poster\">Poster:</label>\n              <input value={poster} onChange={(e) => setPoster(e.target.value)} type=\"text\" id=\"poster\" name=\"poster\" placeholder=\"https://picsum.photos/200/300\" required />\n            </div>\n            <div className={styles.CreateCardForm__form__input}>\n              <label htmlFor=\"genres\">Genres:</label>\n              <input value={genres} onChange={(e) => setGenres(e.target.value)} type=\"text\" id=\"genres\" name=\"genres\" placeholder=\"action, comedy, dramatic\" required />\n            </div>\n            <div className={styles.CreateCardForm__form__textarea}>\n              <label htmlFor=\"description\">Description:</label>\n              <textarea value={description} onChange={(e) => setDescription(e.target.value)} id=\"description\" name=\"description\" placeholder=\"Description of the movie\" required></textarea>\n            </div>\n            <div className={styles.CreateCardForm__form__btn}>\n              <input type=\"submit\" value={text} />\n            </div>\n\n          </form>\n            {/* <button onClick={() => console.log(title, year, poster, genres, description )}>Test</button> */}\n            \n        </main>\n      );\n}\n\nexport default CreateCardForm;","// extracted by mini-css-extract-plugin\nexport default {\"AddMovie\":\"styles_AddMovie__1qqoB\"};","// import { useState, useEffect } from \"react\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nimport CreateCardForm from \"../../components/CreateCardForm\";\n/* import Modal from \"../../components/Modal\" */\n\nimport styles from \"./styles.module.scss\";\n\nconst AddMovie = (props) => {\n\n\n    /* const [isModalVisibile, setModalVisibility] = useState(false); */\n\n    const navigate = useNavigate();\n\n\n    const submitComplete = () => {\n        props.addSuccess()\n        navigate(\"/\");\n    };\n\n\n/*     useEffect(() => {\n        setTimeout(() => {\n            setModalVisibility(false);\n        }, 3000);\n    }, [isModalVisibile]); */\n        \n\n    return (\n        <div className={styles.AddMovie}>\n            <CreateCardForm completeCallback={submitComplete} callType=\"POST\" text=\"Add new movie\" />\n\n            {/* <CreateCardForm completeCallback={submitComplete} setModalVisibility={setModalVisibility} callType=\"POST\" text=\"Add new movie\" /> */}\n            {/* <Modal text=\"Added a new movie!\" isVisibile={isModalVisibile} /> */}\n        </div>\n    )\n}\n\n\nexport default AddMovie;"],"names":["callType","completeCallback","text","movieData","useState","title","setTitle","year","setYear","poster","setPoster","genres","setGenres","description","setDescription","useEffect","genresInArr","Array","isArray","split","movieId","useLocation","pathname","reverse","addMovie","e","preventDefault","POST","PUT","className","styles","onSubmit","htmlFor","value","onChange","target","type","id","name","placeholder","required","props","navigate","useNavigate","CreateCardForm","addSuccess"],"sourceRoot":""}